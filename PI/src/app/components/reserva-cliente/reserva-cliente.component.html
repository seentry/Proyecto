<article class="container mt-5">
  <h2 class="text-center fw-bold title">Reserva tu Cita</h2>

  <section class="row mt-5 justify-content-center">
    <div class="col-md-8">
      <form (ngSubmit)="onSubmit()" [formGroup]="reactiveForm" class="card p-4 form-container">
        <label class="form-label fw-bold text-dark" for="tipoReserva">Selecciona un servicio</label>
        <select (change)="changedProduct()" class="form-select mb-3" formControlName="tipoReserva" id="tipoReserva">
          @for (servicio of servicios; track $index) {
            <option [value]="servicio.id">{{ servicio.nombre }}</option>
          }
        </select>

        <label class="form-label fw-bold text-dark" for="trabajador">Selecciona un Trabajador</label>
        <select (change)="selectTime()" class="form-select mb-3" formControlName="worker" id="worker">
          @for (worker of allWorkers; track worker) {
            <option [value]="worker.id">{{ worker.nombre }}</option>
          }
        </select>

        <label class="form-label fw-bold text-dark" for="fecha">Selecciona una Fecha</label>
        <input (change)="selectTime()" class="form-control mb-3" formControlName="fecha" id="fecha" type="date">

        <label class="form-label fw-bold text-dark" for="tipoReserva">Selecciona una Hora</label>
        <select class="form-select mb-3" formControlName="hora" id="hours">
          @for (hour of hours; track hour) {
            <option [value]="hour">{{ hour }}</option>
          }
        </select>

        <div class="form-check">
          <input class="form-check-input" formControlName="pagoEfectivo" id="pagoEfectivo" type="checkbox">
          <label class="form-check-label fw-bold text-dark" for="pagoEfectivo">Pago en efectivo</label>
        </div>

        <div class="price-box text-center mt-4">
          <h5 class="fw-bold">Precio Total</h5>
          <p class="price-text">${{ price }}</p>
        </div>

        @if (loginUser !== null) {
          <button type="submit" class="btn btn-primary mt-3 w-100">Enviar Reserva</button>
        } @else {
          <button type="button" class="btn btn-secondary mt-3 w-100" disabled>Enviar Reserva</button>
          <p class="text-danger mt-2">Inicia sesi√≥n para reservar una cita</p>
        }
      </form>
    </div>
  </section>
</article>
